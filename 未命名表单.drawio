<mxfile host="www.draw.io" modified="2019-10-17T08:56:22.228Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.62 Safari/537.36" etag="8boBlQES2ts_jj0caYZ3" version="12.1.2" type="github" pages="1">
  <diagram name="Page-1" id="929967ad-93f9-6ef4-fab6-5d389245f69c">
    <mxGraphModel dx="1385" dy="673" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1.5" pageWidth="1169" pageHeight="826" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" style=";html=1;"/>
        <mxCell id="1" style=";html=1;" parent="0"/>
        <mxCell id="1672d66443f91eb5-23" value="满减功能设计" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="160" width="1510" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-74" value="SetpFullReduceRuler" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
          <mxGeometry x="280" y="970" width="160" height="86" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-75" value="+ type: SetpFullReduceRuler" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-74">
          <mxGeometry y="26" width="160" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-76" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-74">
          <mxGeometry y="52" width="160" height="8" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-77" value="+ method(type): type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-74">
          <mxGeometry y="60" width="160" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-83" value="PreFullReduceRuler" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
          <mxGeometry x="460" y="1010" width="160" height="86" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-84" value="+ type: PreFullReduceRuler" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-83">
          <mxGeometry y="26" width="160" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-85" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-83">
          <mxGeometry y="52" width="160" height="8" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-86" value="+ method(type): type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-83">
          <mxGeometry y="60" width="160" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-87" value="OnceFullReduceRuler" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
          <mxGeometry x="640" y="970" width="200" height="86" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-88" value="+ type: OnceFullReduceRuler" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=0" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-87">
          <mxGeometry y="26" width="200" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-89" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontStyle=0" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-87">
          <mxGeometry y="52" width="200" height="8" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-90" value="+ method(type): type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=0" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-87">
          <mxGeometry y="60" width="200" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-95" value="FullReducer" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
          <mxGeometry x="1100" y="270" width="190" height="180" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-96" value="+ Ruler: IFullReduceRule" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-95">
          <mxGeometry y="26" width="190" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-97" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-95">
          <mxGeometry y="52" width="190" height="8" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-98" value="+ setRuler(IFullReduceRule)&#xa;+ getRuler(): IFullReduceRule&#xa;&#xa;+ caulate()&#xa;+ canReduce()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-95">
          <mxGeometry y="60" width="190" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-99" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;&lt;/i&gt;&lt;i&gt;IFullReduceRule&lt;/i&gt;&lt;i&gt;&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;Interface&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- getRuleNote(): String # 获取该减免规则细则&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- gerateRuleContent(): # 构建规则内容&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- caulateAmount():&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;# 计算减免金额方法&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- getRuleModule():&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;" vertex="1" parent="1">
          <mxGeometry x="420" y="260" width="250" height="200" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-116" value="ReduceRule" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
          <mxGeometry x="1050" y="560" width="200" height="230" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-117" value="+ Ruler: IFullReduceRule" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-116">
          <mxGeometry y="26" width="200" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-118" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-116">
          <mxGeometry y="52" width="200" height="8" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-119" value="+ setRuler(IFullReduceRule)&#xa;+ getRuler(): IFullReduceRule&#xa;&#xa;+ getRules()&#xa;+ getRule()&#xa;+ addRule()&#xa;+ editRule()&#xa;+ addProducts()&#xa;+ delProduct()&#xa;&#xa;- hasProduct()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-116">
          <mxGeometry y="60" width="200" height="170" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-120" value="FullReduceRulers" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
          <mxGeometry x="1300" y="130" width="160" height="190" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-121" value="+ field: type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-120">
          <mxGeometry y="26" width="160" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-122" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-120">
          <mxGeometry y="52" width="160" height="8" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-123" value="+ static hasRuler(): bool&#xa;+ static getRuleModules()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-120">
          <mxGeometry y="60" width="160" height="130" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-129" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;strokeColor=#000000;exitX=0.981;exitY=-0.017;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="gA-8BqA0yLMsjer2PnNH-133" target="gA-8BqA0yLMsjer2PnNH-119">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="740" y="530" as="sourcePoint"/>
            <mxPoint x="1580" y="440" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="740" y="532"/>
              <mxPoint x="740" y="695"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-130" value="FullReduceRuler" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1">
          <mxGeometry x="420" y="490" width="260" height="78" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-131" value="+ type: string" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-130">
          <mxGeometry y="26" width="260" height="18" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-132" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-130">
          <mxGeometry y="44" width="260" height="8" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-133" value="+ getType(): String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="gA-8BqA0yLMsjer2PnNH-130">
          <mxGeometry y="52" width="260" height="26" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-134" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;strokeColor=#000000;exitX=0.456;exitY=0.023;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" edge="1" parent="1" source="gA-8BqA0yLMsjer2PnNH-130" target="gA-8BqA0yLMsjer2PnNH-99">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="250.07999999999993" y="700" as="sourcePoint"/>
            <mxPoint x="404.7125000000001" y="480" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-135" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;strokeColor=#000000;entryX=0.344;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="gA-8BqA0yLMsjer2PnNH-74" target="gA-8BqA0yLMsjer2PnNH-133">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="820" as="sourcePoint"/>
            <mxPoint x="470" y="820" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-138" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;strokeColor=#000000;entryX=0.475;entryY=0.962;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.656;exitY=-0.012;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="gA-8BqA0yLMsjer2PnNH-83" target="gA-8BqA0yLMsjer2PnNH-133">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="840" as="sourcePoint"/>
            <mxPoint x="535" y="616" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="546" y="829"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-141" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;strokeColor=#000000;entryX=0.581;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.556;exitY=-0.035;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="gA-8BqA0yLMsjer2PnNH-87" target="gA-8BqA0yLMsjer2PnNH-133">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="350" y="850" as="sourcePoint"/>
            <mxPoint x="545" y="626" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-147" value="加在到这个父类重" style="text;html=1;" vertex="1" parent="1">
          <mxGeometry x="1190" y="240" width="70" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="gA-8BqA0yLMsjer2PnNH-151" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;strokeColor=#000000;entryX=0;entryY=0.808;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="1" source="gA-8BqA0yLMsjer2PnNH-130" target="gA-8BqA0yLMsjer2PnNH-96">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="690" y="500" as="sourcePoint"/>
            <mxPoint x="1050" y="642" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="700" y="500"/>
              <mxPoint x="700" y="317"/>
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
